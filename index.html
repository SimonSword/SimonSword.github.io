<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Red Point Game</title>
  <style>
    body {
      display: flex;
      flex-direction:  column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .game-container {
      position: relative;
      width: 400px;
      height: 300px;
      border: 1px solid #000;
    }
    .vertical-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background-color: #000;
    }
    .red-point {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: red;
      transform: translate(-50%, -50%);
    }

    .message-container {
      margin-top: 10px; /* Added margin for better spacing */
      font-weight: bold;
      color: green; /* Adjust the color as needed */
    }

    .button-container {
      margin-top: 10px; /* Added margin for better spacing */
      font-weight: bold;
      display: flex;
      flex-direction:  row;
    }

    .svg-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

  </style>
</head>
<body>
  <div class="game-container">
    <div class="vertical-line" style="left: 100px;"></div>
    <div class="vertical-line" style="right: 100px;"></div>
    <svg class="svg-icon" width="24" height="24"  xmlns="http://www.w3.org/2000/svg">
      <path d="M6.504 21h-.006a1.5 1.5 0 0 1-1.177-2.428l.372-.472c.103-.023.201-.053.31-.067A3.847 3.847 0 0 1 6.504 18a3.756 3.756 0 0 1 .51.036l-.908 1.154a.5.5 0 0 0 .083.703.441.441 0 0 0 .703-.083l1.146-1.46a2.042 2.042 0 0 1 .775.634L7.68 20.427a1.492 1.492 0 0 1-1.176.572zM3.252 6.667a1.501 1.501 0 0 0 .416 2.08l.327.218a3.763 3.763 0 0 0 .5.034 3.847 3.847 0 0 0 .503-.033 3.586 3.586 0 0 0 .6-.134l-1.375-.917a.5.5 0 1 1 .554-.832l1.8 1.2a1.674 1.674 0 0 0 .242-.259.851.851 0 0 0 .16-.676L5.33 6.251a1.504 1.504 0 0 0-.842-.25 1.492 1.492 0 0 0-1.237.667zm17.496 11.664a1.501 1.501 0 0 0-.416-2.08l-.327-.218a3.763 3.763 0 0 0-.5-.034 3.847 3.847 0 0 0-.503.033 3.586 3.586 0 0 0-.6.134l1.375.917a.5.5 0 0 1 .139.693.511.511 0 0 1-.693.139l-1.8-1.2a1.67 1.67 0 0 0-.242.259.851.851 0 0 0-.16.676l1.648 1.098a1.538 1.538 0 0 0 2.079-.417zM16.32 4.573l-1.134 1.443a2.042 2.042 0 0 0 .775.633l1.146-1.459a.495.495 0 0 1 .333-.187.484.484 0 0 1 .37.104.5.5 0 0 1 .083.703l-.908 1.154a3.756 3.756 0 0 0 .51.036 3.847 3.847 0 0 0 .503-.033c.108-.014.206-.044.31-.067l.37-.472a1.497 1.497 0 0 0-1.037-2.42c-.021 0-.041-.003-.062-.003a1.514 1.514 0 0 0-.207.004c-.022 0-.045.003-.067.004a1.49 1.49 0 0 0-.985.56zm7.605 12.292a2.853 2.853 0 0 1-.46 2.296 4.563 4.563 0 0 1-3.205 1.79 5.748 5.748 0 0 1-.751.048c-2.133 0-4.04-1.187-4.434-2.864a2.785 2.785 0 0 1 .14-1.69l-1.475-.982a1.85 1.85 0 0 0-2.47.394l-1.206 1.535a3.14 3.14 0 0 1 .86 1.473 2.853 2.853 0 0 1-.46 2.296 4.563 4.563 0 0 1-3.204 1.79 5.748 5.748 0 0 1-.751.048c-2.133 0-4.04-1.187-4.434-2.864a2.853 2.853 0 0 1 .46-2.296 4.563 4.563 0 0 1 3.205-1.79 5.673 5.673 0 0 1 1.549.02l1.299-1.654a1.844 1.844 0 0 0-.426-2.67l-1.677-1.12a5.42 5.42 0 0 1-1.225.325 5.748 5.748 0 0 1-.751.049c-2.133 0-4.04-1.187-4.434-2.864a2.853 2.853 0 0 1 .46-2.296 4.563 4.563 0 0 1 3.205-1.79c2.418-.319 4.745.944 5.185 2.816a2.784 2.784 0 0 1-.14 1.69l1.475.982a1.85 1.85 0 0 0 2.47-.394l1.203-1.532a3.14 3.14 0 0 1-.858-1.476 2.853 2.853 0 0 1 .46-2.296 4.563 4.563 0 0 1 3.205-1.79c2.415-.32 4.745.944 5.185 2.816a2.853 2.853 0 0 1-.46 2.296 4.563 4.563 0 0 1-3.205 1.79 5.748 5.748 0 0 1-.751.048 5.704 5.704 0 0 1-.805-.058l-1.292 1.644a1.844 1.844 0 0 0 .426 2.67l1.677 1.12a5.42 5.42 0 0 1 1.225-.325c2.416-.322 4.745.943 5.185 2.815zm-1.283 1.728a1.845 1.845 0 0 0 .31-1.5c-.29-1.23-1.765-2.094-3.44-2.094a4.76 4.76 0 0 0-.64.043 3.617 3.617 0 0 0-2.514 1.365 1.845 1.845 0 0 0-.31 1.5c.327 1.385 2.155 2.314 4.08 2.051a3.617 3.617 0 0 0 2.514-1.365zM14.048 5.906c.327 1.386 2.151 2.315 4.08 2.052a3.617 3.617 0 0 0 2.514-1.365 1.845 1.845 0 0 0 .31-1.5C20.662 3.864 19.187 3 17.512 3a4.76 4.76 0 0 0-.64.043 3.617 3.617 0 0 0-2.514 1.365 1.845 1.845 0 0 0-.31 1.5zm-8.92 4.052a3.617 3.617 0 0 0 2.514-1.365 1.845 1.845 0 0 0 .31-1.5C7.662 5.864 6.187 5 4.512 5a4.76 4.76 0 0 0-.64.043 3.617 3.617 0 0 0-2.514 1.365 1.845 1.845 0 0 0-.31 1.5c.327 1.385 2.152 2.313 4.08 2.051zm4.824 9.136c-.29-1.23-1.765-2.095-3.44-2.095a4.76 4.76 0 0 0-.64.043 3.617 3.617 0 0 0-2.514 1.365 1.845 1.845 0 0 0-.31 1.5c.327 1.385 2.151 2.313 4.08 2.051a3.617 3.617 0 0 0 2.514-1.365 1.845 1.845 0 0 0 .31-1.5zm4.343-4.463l1.453.969a3.865 3.865 0 0 1 .763-.694l-1.227-.818a2.842 2.842 0 0 1-.659-4.12l1.02-1.299a4.96 4.96 0 0 1-.93-.433L13.516 9.76a2.857 2.857 0 0 1-3.812.61L8.252 9.4a3.866 3.866 0 0 1-.763.694l1.227.818a2.842 2.842 0 0 1 .659 4.12l-1.013 1.29a4.884 4.884 0 0 1 .918.45l1.203-1.532a2.854 2.854 0 0 1 3.812-.61z"/><path fill="none" d="M0 0h24v24H0z"/>
    </svg>

  </div> 
  <div class="message-container" id="messageContainer"></div>
  <div class="button-container">
  <button onclick="moveLeft()">Left</button>
  <button onclick="moveRight()">Right</button>
  </div>

  <script>
let redPoint = document.querySelector('.svg-icon');
let leftButton = document.querySelector('button:nth-of-type(1)');
let rightButton = document.querySelector('button:nth-of-type(2)');



let messageContainer = document.getElementById('messageContainer');


    showMessage("Start")


    
    function showMessage(message) {
      messageContainer.innerText = message;
    }
function moveLeft() {
  stopVibration()
  let currentPosition = parseInt(window.getComputedStyle(redPoint).left);
  if (currentPosition > 100) {
    redPoint.style.left = (currentPosition - 10) + 'px';
    showMessage("Moved left!");
    checkDistance()
  }
}

function moveRight() {
  stopVibration()
  let currentPosition = parseInt(window.getComputedStyle(redPoint).left);
  if (currentPosition < 300) {
    redPoint.style.left = (currentPosition + 10) + 'px';
    showMessage("Moved Right!")
    checkDistance()
  }
}

function checkDistance() {
      let currentPosition = parseInt(window.getComputedStyle(redPoint).left);
      let leftLinePosition = 100;
      let rightLinePosition = 300;
      let distanceToLeftLine = Math.abs(currentPosition - leftLinePosition);
      let distanceToRightLine = Math.abs(currentPosition - rightLinePosition);

      if (distanceToLeftLine <= 50 || distanceToRightLine <= 50) {
        let distance = Math.min(distanceToLeftLine,distanceToRightLine)
        vibrate(distance);
      }
    }

    function vibrate(distance) {
      showMessage("WARNING! DISTANCE:" + distance.toString())

      let frequency = 100.0/distance
      let duration = 1000/frequency
      var arr = [];
      for (var i = 1; i < 100+1; i++) {
            arr.push(duration);
        }

      let vibrate =  window.navigator.vibrate(arr);
      if(!vibrate){
        showMessage("ERROR")
      }

    }

    function stopVibration() {
      navigator.vibrate(0)
    }


  </script>
</body>
</html>
